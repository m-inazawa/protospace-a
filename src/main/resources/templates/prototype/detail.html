<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">

<head>
  <meta charset="UTF-8">
  <link th:href="@{/css/prototypes/style.css}" rel="stylesheet" type="text/css">
  <link href="../../static/css/prototypes/style.css" rel="stylesheet" type="text/css">
  <title>ProtoSpace</title>
</head>

<body>
<!-- <div th:insert="~{header :: header}"></div> -->

  <div class="contents-row">
    <div class="content-post">
      <h1 class="prototype-name" th:text="${prototype.prototypeName}">ウェブアプリ名</h1>
      <a th:href="@{/users/{userId}(userId=${prototype.user.id})}" class="prototype-user" th:text="'by ' + ${prototype.user.userName}">by ユーザー名</a>

      <!-- 投稿したユーザーにのみ表示 -->
      <div class="button" th:if="${#authorization.expression('isAuthenticated()') and #authentication?.principal.getId() == prototype.user.id}">
          <div class="edit-btn"> 
            <a th:href="@{/prototype/{prototypeId}/edit(prototypeId=${prototype.id})}">編集する</a>
          </div>
          <form th:action="@{/prototype/{prototypeId}/delete(prototypeId=${prototype.id})}" th:method="post">
            <input type="submit" class="delete-btn" value="削除する">
          </form>
      </div>

      <div class="prototype-image">
        <span><img th:src="${prototype.image}" />画像</span>
      </div>

      <div class="prototype-detail">
        <h2 class="catchcopy-title">キャッチコピー</h2>
        <p class="catchcopy-text" th:text="${prototype.catchCopy}">キャッチコピーテキスト</p>

        <h2 class="concept-title">コンセプト</h2>
        <p class="concept-text" th:text="${prototype.concept}">コンセプトテキスト</p>
      </div>
    </div>
  </div>

  <!-- コメント投稿機能 -->
  <div class="comments-row">
      <h2 class="comments-title">コメント</h2>
      <form class="comments-form" th:action="${prototype/{prototypeId}/comments(prototypeId=${prototype.id})}" th:method="post">
        <textarea name="text" placeholder="コメントを入力してください" rows="2"></textarea>
        <div class="comment-btn-container">
          <input type="submit" class="comment-btn" value="送信する">
        </div>
      </form>

    <!-- コメントテーブルから取得 -->
    <div class="comment-list">
      <ul class="comments-lists">
        <li class="comments_list">
          コメント１
          <a th:href="" class="comment-user">コメント１（名前）</a>
        </li>
        <li class="comments-list">
          コメント２
          <a th:href="#" class="comment-user">コメント２（名前）</a>
        </li>
      </ul>
    </div>
  </div>

  <!-- <div th:insert="~{footer :: footer}"></div> -->

</body>
</html>